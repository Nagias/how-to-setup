import{j as u}from"./vendor-tiptap-CPIgDqZu.js";import{g as W,r as O,R as L,f as ie,u as ae}from"./vendor-react-BadUDqtX.js";import{i as se,u as ce,s as G,b as le}from"./index-DYQWwx0r.js";import"./vendor-firebase-D65FIcPE.js";var K={exports:{}},ue="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",de=ue,pe=de;function Z(){}function D(){}D.resetWarningCache=Z;var fe=function(){function e(o,r,a,i,s,c){if(c!==pe){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:D,resetWarningCache:Z};return n.PropTypes=n,n};K.exports=fe();var me=K.exports;const g=W(me);function he(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var ee=O,Te=he(ee);function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ge(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var ve=!!(typeof window<"u"&&window.document&&window.document.createElement);function ye(e,t,n){if(typeof e!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof t!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof n<"u"&&typeof n!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function o(r){return r.displayName||r.name||"Component"}return function(a){if(typeof a!="function")throw new Error("Expected WrappedComponent to be a React component.");var i=[],s;function c(){s=e(i.map(function(d){return d.props})),l.canUseDOM?t(s):n&&(s=n(s))}var l=function(d){ge(p,d);function p(){return d.apply(this,arguments)||this}p.peek=function(){return s},p.rewind=function(){if(p.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var y=s;return s=void 0,i=[],y};var m=p.prototype;return m.UNSAFE_componentWillMount=function(){i.push(this),c()},m.componentDidUpdate=function(){c()},m.componentWillUnmount=function(){var y=i.indexOf(this);i.splice(y,1),c()},m.render=function(){return Te.createElement(a,this.props)},p}(ee.PureComponent);return z(l,"displayName","SideEffect("+o(a)+")"),z(l,"canUseDOM",ve),l}}var Ee=ye;const Ae=W(Ee);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var V=Object.getOwnPropertySymbols,Se=Object.prototype.hasOwnProperty,we=Object.prototype.propertyIsEnumerable;function be(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function Ce(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var o=Object.getOwnPropertyNames(t).map(function(a){return t[a]});if(o.join("")!=="0123456789")return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(a){r[a]=a}),Object.keys(Object.assign({},r)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var Oe=Ce()?Object.assign:function(e,t){for(var n,o=be(e),r,a=1;a<arguments.length;a++){n=Object(arguments[a]);for(var i in n)Se.call(n,i)&&(o[i]=n[i]);if(V){r=V(n);for(var s=0;s<r.length;s++)we.call(n,r[s])&&(o[r[s]]=n[r[s]])}}return o};const xe=W(Oe);var x={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},f={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(f).map(function(e){return f[e]});var v={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},M={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},_={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},je=Object.keys(M).reduce(function(e,t){return e[M[t]]=t,e},{}),Pe=[f.NOSCRIPT,f.SCRIPT,f.STYLE],b="data-react-helmet",Ie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Re=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Ne=function(){function e(t,n){for(var o=0;o<n.length;o++){var r=n[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Le=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},X=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n},_e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},B=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},ke=function(t){var n=P(t,f.TITLE),o=P(t,_.TITLE_TEMPLATE);if(o&&n)return o.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var r=P(t,_.DEFAULT_TITLE);return n||r||void 0},Me=function(t){return P(t,_.ON_CHANGE_CLIENT_STATE)||function(){}},F=function(t,n){return n.filter(function(o){return typeof o[t]<"u"}).map(function(o){return o[t]}).reduce(function(o,r){return w({},o,r)},{})},He=function(t,n){return n.filter(function(o){return typeof o[f.BASE]<"u"}).map(function(o){return o[f.BASE]}).reverse().reduce(function(o,r){if(!o.length)for(var a=Object.keys(r),i=0;i<a.length;i++){var s=a[i],c=s.toLowerCase();if(t.indexOf(c)!==-1&&r[c])return o.concat(r)}return o},[])},R=function(t,n,o){var r={};return o.filter(function(a){return Array.isArray(a[t])?!0:(typeof a[t]<"u"&&qe("Helmet: "+t+' should be of type "Array". Instead found type "'+Ie(a[t])+'"'),!1)}).map(function(a){return a[t]}).reverse().reduce(function(a,i){var s={};i.filter(function(m){for(var h=void 0,y=Object.keys(m),A=0;A<y.length;A++){var S=y[A],T=S.toLowerCase();n.indexOf(T)!==-1&&!(h===v.REL&&m[h].toLowerCase()==="canonical")&&!(T===v.REL&&m[T].toLowerCase()==="stylesheet")&&(h=T),n.indexOf(S)!==-1&&(S===v.INNER_HTML||S===v.CSS_TEXT||S===v.ITEM_PROP)&&(h=S)}if(!h||!m[h])return!1;var E=m[h].toLowerCase();return r[h]||(r[h]={}),s[h]||(s[h]={}),r[h][E]?!1:(s[h][E]=!0,!0)}).reverse().forEach(function(m){return a.push(m)});for(var c=Object.keys(s),l=0;l<c.length;l++){var d=c[l],p=xe({},r[d],s[d]);r[d]=p}return a},[]).reverse()},P=function(t,n){for(var o=t.length-1;o>=0;o--){var r=t[o];if(r.hasOwnProperty(n))return r[n]}return null},Fe=function(t){return{baseTag:He([v.HREF,v.TARGET],t),bodyAttributes:F(x.BODY,t),defer:P(t,_.DEFER),encode:P(t,_.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:F(x.HTML,t),linkTags:R(f.LINK,[v.REL,v.HREF],t),metaTags:R(f.META,[v.NAME,v.CHARSET,v.HTTPEQUIV,v.PROPERTY,v.ITEM_PROP],t),noscriptTags:R(f.NOSCRIPT,[v.INNER_HTML],t),onChangeClientState:Me(t),scriptTags:R(f.SCRIPT,[v.SRC,v.INNER_HTML],t),styleTags:R(f.STYLE,[v.CSS_TEXT],t),title:ke(t),titleAttributes:F(x.TITLE,t)}},U=function(){var e=Date.now();return function(t){var n=Date.now();n-e>16?(e=n,t(n)):setTimeout(function(){U(t)},0)}}(),Q=function(t){return clearTimeout(t)},Be=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||U:global.requestAnimationFrame||U,Ue=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||Q:global.cancelAnimationFrame||Q,qe=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},N=null,Ye=function(t){N&&Ue(N),t.defer?N=Be(function(){J(t,function(){N=null})}):(J(t),N=null)},J=function(t,n){var o=t.baseTag,r=t.bodyAttributes,a=t.htmlAttributes,i=t.linkTags,s=t.metaTags,c=t.noscriptTags,l=t.onChangeClientState,d=t.scriptTags,p=t.styleTags,m=t.title,h=t.titleAttributes;q(f.BODY,r),q(f.HTML,a),We(m,h);var y={baseTag:j(f.BASE,o),linkTags:j(f.LINK,i),metaTags:j(f.META,s),noscriptTags:j(f.NOSCRIPT,c),scriptTags:j(f.SCRIPT,d),styleTags:j(f.STYLE,p)},A={},S={};Object.keys(y).forEach(function(T){var E=y[T],I=E.newTags,k=E.oldTags;I.length&&(A[T]=I),k.length&&(S[T]=y[T].oldTags)}),n&&n(),l(t,A,S)},te=function(t){return Array.isArray(t)?t.join(""):t},We=function(t,n){typeof t<"u"&&document.title!==t&&(document.title=te(t)),q(f.TITLE,n)},q=function(t,n){var o=document.getElementsByTagName(t)[0];if(o){for(var r=o.getAttribute(b),a=r?r.split(","):[],i=[].concat(a),s=Object.keys(n),c=0;c<s.length;c++){var l=s[c],d=n[l]||"";o.getAttribute(l)!==d&&o.setAttribute(l,d),a.indexOf(l)===-1&&a.push(l);var p=i.indexOf(l);p!==-1&&i.splice(p,1)}for(var m=i.length-1;m>=0;m--)o.removeAttribute(i[m]);a.length===i.length?o.removeAttribute(b):o.getAttribute(b)!==s.join(",")&&o.setAttribute(b,s.join(","))}},j=function(t,n){var o=document.head||document.querySelector(f.HEAD),r=o.querySelectorAll(t+"["+b+"]"),a=Array.prototype.slice.call(r),i=[],s=void 0;return n&&n.length&&n.forEach(function(c){var l=document.createElement(t);for(var d in c)if(c.hasOwnProperty(d))if(d===v.INNER_HTML)l.innerHTML=c.innerHTML;else if(d===v.CSS_TEXT)l.styleSheet?l.styleSheet.cssText=c.cssText:l.appendChild(document.createTextNode(c.cssText));else{var p=typeof c[d]>"u"?"":c[d];l.setAttribute(d,p)}l.setAttribute(b,"true"),a.some(function(m,h){return s=h,l.isEqualNode(m)})?a.splice(s,1):i.push(l)}),a.forEach(function(c){return c.parentNode.removeChild(c)}),i.forEach(function(c){return o.appendChild(c)}),{oldTags:a,newTags:i}},ne=function(t){return Object.keys(t).reduce(function(n,o){var r=typeof t[o]<"u"?o+'="'+t[o]+'"':""+o;return n?n+" "+r:r},"")},$e=function(t,n,o,r){var a=ne(o),i=te(n);return a?"<"+t+" "+b+'="true" '+a+">"+B(i,r)+"</"+t+">":"<"+t+" "+b+'="true">'+B(i,r)+"</"+t+">"},Ge=function(t,n,o){return n.reduce(function(r,a){var i=Object.keys(a).filter(function(l){return!(l===v.INNER_HTML||l===v.CSS_TEXT)}).reduce(function(l,d){var p=typeof a[d]>"u"?d:d+'="'+B(a[d],o)+'"';return l?l+" "+p:p},""),s=a.innerHTML||a.cssText||"",c=Pe.indexOf(t)===-1;return r+"<"+t+" "+b+'="true" '+i+(c?"/>":">"+s+"</"+t+">")},"")},re=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(o,r){return o[M[r]||r]=t[r],o},n)},ze=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(o,r){return o[je[r]||r]=t[r],o},n)},Ve=function(t,n,o){var r,a=(r={key:n},r[b]=!0,r),i=re(o,a);return[L.createElement(f.TITLE,i,n)]},Xe=function(t,n){return n.map(function(o,r){var a,i=(a={key:r},a[b]=!0,a);return Object.keys(o).forEach(function(s){var c=M[s]||s;if(c===v.INNER_HTML||c===v.CSS_TEXT){var l=o.innerHTML||o.cssText;i.dangerouslySetInnerHTML={__html:l}}else i[c]=o[s]}),L.createElement(t,i)})},C=function(t,n,o){switch(t){case f.TITLE:return{toComponent:function(){return Ve(t,n.title,n.titleAttributes)},toString:function(){return $e(t,n.title,n.titleAttributes,o)}};case x.BODY:case x.HTML:return{toComponent:function(){return re(n)},toString:function(){return ne(n)}};default:return{toComponent:function(){return Xe(t,n)},toString:function(){return Ge(t,n,o)}}}},oe=function(t){var n=t.baseTag,o=t.bodyAttributes,r=t.encode,a=t.htmlAttributes,i=t.linkTags,s=t.metaTags,c=t.noscriptTags,l=t.scriptTags,d=t.styleTags,p=t.title,m=p===void 0?"":p,h=t.titleAttributes;return{base:C(f.BASE,n,r),bodyAttributes:C(x.BODY,o,r),htmlAttributes:C(x.HTML,a,r),link:C(f.LINK,i,r),meta:C(f.META,s,r),noscript:C(f.NOSCRIPT,c,r),script:C(f.SCRIPT,l,r),style:C(f.STYLE,d,r),title:C(f.TITLE,{title:m,titleAttributes:h},r)}},Qe=function(t){var n,o;return o=n=function(r){Le(a,r);function a(){return Re(this,a),_e(this,r.apply(this,arguments))}return a.prototype.shouldComponentUpdate=function(s){return!se(this.props,s)},a.prototype.mapNestedChildrenToProps=function(s,c){if(!c)return null;switch(s.type){case f.SCRIPT:case f.NOSCRIPT:return{innerHTML:c};case f.STYLE:return{cssText:c}}throw new Error("<"+s.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},a.prototype.flattenArrayTypeChildren=function(s){var c,l=s.child,d=s.arrayTypeChildren,p=s.newChildProps,m=s.nestedChildren;return w({},d,(c={},c[l.type]=[].concat(d[l.type]||[],[w({},p,this.mapNestedChildrenToProps(l,m))]),c))},a.prototype.mapObjectTypeChildren=function(s){var c,l,d=s.child,p=s.newProps,m=s.newChildProps,h=s.nestedChildren;switch(d.type){case f.TITLE:return w({},p,(c={},c[d.type]=h,c.titleAttributes=w({},m),c));case f.BODY:return w({},p,{bodyAttributes:w({},m)});case f.HTML:return w({},p,{htmlAttributes:w({},m)})}return w({},p,(l={},l[d.type]=w({},m),l))},a.prototype.mapArrayTypeChildrenToProps=function(s,c){var l=w({},c);return Object.keys(s).forEach(function(d){var p;l=w({},l,(p={},p[d]=s[d],p))}),l},a.prototype.warnOnInvalidChildren=function(s,c){return!0},a.prototype.mapChildrenToProps=function(s,c){var l=this,d={};return L.Children.forEach(s,function(p){if(!(!p||!p.props)){var m=p.props,h=m.children,y=X(m,["children"]),A=ze(y);switch(l.warnOnInvalidChildren(p,h),p.type){case f.LINK:case f.META:case f.NOSCRIPT:case f.SCRIPT:case f.STYLE:d=l.flattenArrayTypeChildren({child:p,arrayTypeChildren:d,newChildProps:A,nestedChildren:h});break;default:c=l.mapObjectTypeChildren({child:p,newProps:c,newChildProps:A,nestedChildren:h});break}}}),c=this.mapArrayTypeChildrenToProps(d,c),c},a.prototype.render=function(){var s=this.props,c=s.children,l=X(s,["children"]),d=w({},l);return c&&(d=this.mapChildrenToProps(c,d)),L.createElement(t,d)},Ne(a,null,[{key:"canUseDOM",set:function(s){t.canUseDOM=s}}]),a}(L.Component),n.propTypes={base:g.object,bodyAttributes:g.object,children:g.oneOfType([g.arrayOf(g.node),g.node]),defaultTitle:g.string,defer:g.bool,encodeSpecialCharacters:g.bool,htmlAttributes:g.object,link:g.arrayOf(g.object),meta:g.arrayOf(g.object),noscript:g.arrayOf(g.object),onChangeClientState:g.func,script:g.arrayOf(g.object),style:g.arrayOf(g.object),title:g.string,titleAttributes:g.object,titleTemplate:g.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=t.peek,n.rewind=function(){var r=t.rewind();return r||(r=oe({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),r},o},Je=function(){return null},Ke=Ae(Fe,Ye,oe)(Je),Y=Qe(Ke);Y.renderStatic=Y.rewind;const Ze=({blogData:e})=>{const t=O.useMemo(()=>{var r,a,i,s,c,l,d,p,m,h,y,A;return e?{"@context":"https://schema.org","@type":"Article",headline:((r=e.seo)==null?void 0:r.seoTitle)||e.title,description:((a=e.seo)==null?void 0:a.metaDescription)||e.excerpt,image:e.coverImage||((i=e.seo)==null?void 0:i.ogImage),datePublished:((l=(c=(s=e.createdAt)==null?void 0:s.toDate)==null?void 0:c.call(s))==null?void 0:l.toISOString())||new Date().toISOString(),dateModified:((m=(p=(d=e.updatedAt)==null?void 0:d.toDate)==null?void 0:p.call(d))==null?void 0:m.toISOString())||new Date().toISOString(),author:e.author?{"@type":"Person",name:e.author.name,description:e.author.bio||"",url:e.author.avatar||""}:void 0,publisher:{"@type":"Organization",name:"DeskHub",logo:{"@type":"ImageObject",url:"https://deskhub.vn/logo.png"}},mainEntityOfPage:{"@type":"WebPage","@id":e.canonicalUrl||`https://deskhub.vn/blog/${e.slug}`},keywords:[(h=e.keywords)==null?void 0:h.primaryKeyword,...((y=e.keywords)==null?void 0:y.secondaryKeywords)||[],...((A=e.keywords)==null?void 0:A.lsiKeywords)||[]].filter(Boolean).join(", ")}:null},[e]),n=O.useMemo(()=>{var r,a;return!((r=e==null?void 0:e.schema)!=null&&r.enableFaqSchema)||!((a=e==null?void 0:e.faqItems)!=null&&a.length)?null:{"@context":"https://schema.org","@type":"FAQPage",mainEntity:e.faqItems.map(i=>({"@type":"Question",name:i.question,acceptedAnswer:{"@type":"Answer",text:i.answer}}))}},[e]),o=O.useMemo(()=>{var a,i,s;if(!((a=e==null?void 0:e.schema)!=null&&a.enableReviewSchema)||!((i=e==null?void 0:e.schema)!=null&&i.reviewData))return null;const{reviewData:r}=e.schema;return{"@context":"https://schema.org","@type":"Review",itemReviewed:{"@type":r.itemType||"Product",name:r.itemName},reviewRating:{"@type":"Rating",ratingValue:r.rating,bestRating:r.maxRating||5},author:{"@type":"Person",name:((s=e.author)==null?void 0:s.name)||"Anonymous"},reviewBody:r.summary||e.excerpt}},[e]);return t?u.jsxs(u.Fragment,{children:[u.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(t,null,2)}}),n&&u.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(n,null,2)}}),o&&u.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(o,null,2)}})]}):null},De=e=>{var n,o,r,a,i,s,c,l,d,p,m,h,y,A,S,T,E,I,k,$;return e?[{name:"description",content:((n=e.seo)==null?void 0:n.metaDescription)||e.excerpt},{name:"keywords",content:[(o=e.keywords)==null?void 0:o.primaryKeyword,...((r=e.keywords)==null?void 0:r.secondaryKeywords)||[]].filter(Boolean).join(", ")},{name:"robots",content:e.noIndex?"noindex, nofollow":"index, follow"},{property:"og:title",content:((a=e.seo)==null?void 0:a.ogTitle)||((i=e.seo)==null?void 0:i.seoTitle)||e.title},{property:"og:description",content:((s=e.seo)==null?void 0:s.ogDescription)||((c=e.seo)==null?void 0:c.metaDescription)},{property:"og:image",content:((l=e.seo)==null?void 0:l.ogImage)||e.coverImage},{property:"og:url",content:e.canonicalUrl},{property:"og:type",content:"article"},{property:"og:site_name",content:"DeskHub"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:title",content:((d=e.seo)==null?void 0:d.ogTitle)||((p=e.seo)==null?void 0:p.seoTitle)||e.title},{name:"twitter:description",content:((m=e.seo)==null?void 0:m.ogDescription)||((h=e.seo)==null?void 0:h.metaDescription)},{name:"twitter:image",content:((y=e.seo)==null?void 0:y.ogImage)||e.coverImage},{property:"article:published_time",content:(T=(S=(A=e.createdAt)==null?void 0:A.toDate)==null?void 0:S.call(A))==null?void 0:T.toISOString()},{property:"article:modified_time",content:(k=(I=(E=e.updatedAt)==null?void 0:E.toDate)==null?void 0:I.call(E))==null?void 0:k.toISOString()},{property:"article:author",content:($=e.author)==null?void 0:$.name},{property:"article:section",content:e.category},...(e.tags||[]).map(H=>({property:"article:tag",content:H}))].filter(H=>H.content):[]},et=e=>e?e.canonicalUrl||`https://deskhub.vn/blog/${e.slug}`:null,it=()=>{var y,A,S;const{slug:e}=ie(),t=ae(),{blogs:n,setBlogs:o,deleteBlog:r,currentUser:a}=ce(),[i,s]=O.useState(null);if(O.useEffect(()=>{let T=n.find(E=>E.slug===e||E.id==e);T||(T=G.find(E=>E.slug===e||E.id==e)),T&&s(T)},[e,n]),O.useEffect(()=>{window.scrollTo(0,0)},[]),O.useEffect(()=>{if(!i)return;console.log("BlogDetail: Setting up view timer for blog:",i.id);const T=setTimeout(async()=>{console.log("BlogDetail: 5 seconds elapsed, incrementing view for blog:",i.id);try{const E=await le.incrementBlogView(i.id)}catch(E){console.error("BlogDetail: Error incrementing view:",E)}},5e3);return()=>clearTimeout(T)},[i==null?void 0:i.id]),!i)return u.jsxs("div",{className:"container",style:{padding:"2rem",textAlign:"center",minHeight:"50vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[u.jsx("h3",{children:"Đang tải bài viết..."}),u.jsxs("div",{style:{color:"#666",marginTop:"1rem",fontSize:"0.9rem",textAlign:"left",background:"#f5f5f5",padding:"1rem",borderRadius:"8px"},children:[u.jsx("p",{children:u.jsx("strong",{children:"Debug Info:"})}),u.jsxs("p",{children:["Requested Slug/ID: ",e]}),u.jsxs("p",{children:["Context Blogs Loaded: ",n.length]}),u.jsxs("p",{children:["Sample Data Size: ",((y=G)==null?void 0:y.length)||"undefined"]}),u.jsx("p",{style:{marginTop:"0.5rem",fontStyle:"italic",fontSize:"0.8rem"},children:"Nếu số liệu trên = 0, vui lòng kiểm tra lại kết nối mạng hoặc thử lại sau."})]})]});const c=()=>{t("/blog")},l=()=>{i.seo?t(`/blog/seo-edit/${i.id}`):t(`/blog/edit/${i.id}`)},d=async()=>{if(window.confirm("Bạn có chắc chắn muốn xóa bài viết này không?")){const T=await r(i.id);T.success?t("/blog"):alert(T.message||"Có lỗi xảy ra")}},p=De(i),m=et(i),h=i.contentHtml||i.content;return u.jsxs("div",{className:"blog-detail-page",children:[u.jsxs(Y,{children:[u.jsxs("title",{children:[((A=i.seo)==null?void 0:A.seoTitle)||i.title," | DeskHub"]}),p.map((T,E)=>u.jsx("meta",{...T},E)),m&&u.jsx("link",{rel:"canonical",href:m})]}),u.jsx(Ze,{blogData:i}),u.jsxs("div",{className:"blog-detail-actions",children:[u.jsxs("button",{className:"back-btn",onClick:c,children:[u.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:u.jsx("path",{d:"M12.5 15L7.5 10l5-5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),"Quay lại"]}),a&&a.role==="admin"&&u.jsxs("div",{className:"blog-admin-actions",children:[u.jsxs("button",{className:"blog-edit-btn",onClick:l,children:[u.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:u.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),"Chỉnh sửa"]}),u.jsxs("button",{className:"blog-delete-btn",onClick:d,children:[u.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:u.jsx("path",{d:"M5 7h10M8 7V5a1 1 0 011-1h2a1 1 0 011 1v2m-5 0h6M6 7v10a1 1 0 001 1h6a1 1 0 001-1V7",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})}),"Xóa bài viết"]})]})]}),u.jsxs("article",{className:"blog-article",children:[u.jsxs("div",{className:"blog-cover",children:[u.jsx("img",{src:i.coverImage,alt:i.title}),u.jsx("div",{className:"blog-cover-overlay",children:u.jsx("span",{className:"blog-category-large",children:i.category})})]}),u.jsxs("header",{className:"blog-header",children:[u.jsx("h1",{className:"blog-title",children:i.title}),u.jsxs("div",{className:"blog-meta-large",children:[u.jsxs("div",{className:"blog-author-large",children:[u.jsx("img",{src:i.author.avatar,alt:i.author.name}),u.jsxs("div",{children:[u.jsx("p",{className:"author-name",children:i.author.name}),u.jsx("p",{className:"publish-date",children:new Date(i.publishedAt).toLocaleDateString("vi-VN",{year:"numeric",month:"long",day:"numeric"})})]})]}),u.jsxs("div",{className:"blog-stats-large",children:[u.jsxs("span",{className:"stat",children:[u.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:[u.jsx("circle",{cx:"10",cy:"10",r:"8",stroke:"currentColor",strokeWidth:"1.5"}),u.jsx("path",{d:"M10 6v4l3 2",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]}),i.readTime," phút đọc"]}),u.jsxs("span",{className:"stat",children:[u.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:[u.jsx("path",{d:"M1 10s3-7 9-7 9 7 9 7-3 7-9 7-9-7-9-7z",stroke:"currentColor",strokeWidth:"1.5"}),u.jsx("circle",{cx:"10",cy:"10",r:"3",stroke:"currentColor",strokeWidth:"1.5"})]}),i.views," lượt xem"]})]})]})]}),u.jsx("div",{className:"blog-content",dangerouslySetInnerHTML:{__html:h}}),u.jsx("div",{className:"blog-tags",children:(S=i.tags)==null?void 0:S.map(T=>u.jsxs("span",{className:"blog-tag",children:["#",T]},T))})]})]})};export{it as default};
